# AIãƒãƒ£ãƒƒãƒˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆçµ±åˆãƒ„ãƒ¼ãƒ«ãƒãƒ¼ å®Ÿè£…è¦ä»¶å®šç¾©

**ä½œæˆæ—¥**: 2025-10-30
**å¯¾è±¡**: å…¨é–‹ç™ºè€…
**ã‚«ãƒ†ã‚´ãƒª**: è¦ä»¶å®šç¾©ãƒ»è¨­è¨ˆæ›¸
**å„ªå…ˆåº¦**: High

---

## ğŸ“‹ æ¦‚è¦

ãƒšãƒ¼ã‚¸ä¸€è¦§ãƒšãƒ¼ã‚¸ (`/notes/[slug]`) ãŠã‚ˆã³ãƒšãƒ¼ã‚¸è©³ç´°ãƒšãƒ¼ã‚¸ (`/notes/[slug]/[pageId]`) ã®ç”»é¢ä¸‹éƒ¨ã«ã€AIãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½ã‚’å†…è”µã—ãŸãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã‚’é…ç½®ã—ã¾ã™ã€‚

ã“ã®ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã¯ã€ä»¥ä¸‹ã®æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹å¤šæ©Ÿèƒ½AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã§ã™ï¼š
- ãƒšãƒ¼ã‚¸æƒ…å ±ã®è¦ç´„
- æ„å‘³æ¤œç´¢ï¼ˆã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ã‚µãƒ¼ãƒï¼‰
- æ–°ã—ã„ãƒšãƒ¼ã‚¸ã®ä½œæˆæ”¯æ´
- Model Context Protocol (MCP) ã‚’åˆ©ç”¨ã—ãŸå¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€£æº
- ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼è¨­å®š

---

## ğŸ¯ ä¸»è¦æ©Ÿèƒ½

### 1. AIãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãªä¼šè©±å½¢å¼ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
- ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«å¿œã˜ãŸå¿œç­”ï¼ˆãƒšãƒ¼ã‚¸ä¸€è¦§ vs ãƒšãƒ¼ã‚¸è©³ç´°ï¼‰
- ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å¿œç­”ã®ã‚µãƒãƒ¼ãƒˆ
- ä¼šè©±å±¥æ­´ã®ä¿æŒã¨ã‚¯ãƒªã‚¢æ©Ÿèƒ½

### 2. ãƒ„ãƒ¼ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼
- å³ç«¯ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹
- å„ç¨®ãƒ„ãƒ¼ãƒ«ã¸ã®ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹
- ãƒ„ãƒ¼ãƒ«ã®æœ‰åŠ¹/ç„¡åŠ¹åˆ‡ã‚Šæ›¿ãˆ

### 3. ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
- ã‚¢ãƒã‚¿ãƒ¼ç”»åƒã®é¸æŠ
- å£èª¿ãƒ»è©±ã—æ–¹ã®è¨­å®š
- æ€§æ ¼è¨­å®šï¼ˆãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ã€ãƒ•ã‚©ãƒ¼ãƒãƒ«ã€ãƒ¦ãƒ¼ãƒ¢ãƒ©ã‚¹ãªã©ï¼‰

---

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹é€ 

```
components/ai-command-bar/
â”œâ”€â”€ index.tsx                      # ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ AICommandBar.tsx               # ãƒ„ãƒ¼ãƒ«ãƒãƒ¼æœ¬ä½“
â”œâ”€â”€ AICommandBar.module.css        # ã‚¹ã‚¿ã‚¤ãƒ«
â”œâ”€â”€ _components/
â”‚   â”œâ”€â”€ ChatInterface.tsx          # ãƒãƒ£ãƒƒãƒˆUI
â”‚   â”œâ”€â”€ ChatMessage.tsx            # ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ ChatInput.tsx              # å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ 
â”‚   â”œâ”€â”€ ToolMenu.tsx               # ãƒ„ãƒ¼ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼
â”‚   â”œâ”€â”€ ToolMenuItem.tsx           # ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚¢ã‚¤ãƒ†ãƒ 
â”‚   â”œâ”€â”€ CharacterSettings.tsx      # ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼è¨­å®š
â”‚   â”œâ”€â”€ ContextDisplay.tsx         # ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆè¡¨ç¤º
â”‚   â””â”€â”€ StreamingIndicator.tsx    # ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ä¸­ã®è¡¨ç¤º
â”œâ”€â”€ _hooks/
â”‚   â”œâ”€â”€ useAIChat.ts               # ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½
â”‚   â”œâ”€â”€ useToolMenu.ts             # ãƒ„ãƒ¼ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç®¡ç†
â”‚   â”œâ”€â”€ useCharacterSettings.ts   # ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼è¨­å®šç®¡ç†
â”‚   â”œâ”€â”€ useContextProvider.ts     # ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæä¾›
â”‚   â””â”€â”€ useMCPIntegration.ts      # MCPé€£æº
â”œâ”€â”€ _actions/
â”‚   â”œâ”€â”€ chatWithAI.ts              # AIä¼šè©±Server Action
â”‚   â”œâ”€â”€ summarizePages.ts          # ãƒšãƒ¼ã‚¸è¦ç´„
â”‚   â”œâ”€â”€ semanticSearch.ts          # æ„å‘³æ¤œç´¢
â”‚   â”œâ”€â”€ createPageFromPrompt.ts   # ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‹ã‚‰ãƒšãƒ¼ã‚¸ä½œæˆ
â”‚   â””â”€â”€ mcpProxy.ts                # MCPãƒ—ãƒ­ã‚­ã‚·
â””â”€â”€ _types/
    â”œâ”€â”€ chat.types.ts              # ãƒãƒ£ãƒƒãƒˆé–¢é€£å‹å®šç¾©
    â”œâ”€â”€ tool.types.ts              # ãƒ„ãƒ¼ãƒ«é–¢é€£å‹å®šç¾©
    â””â”€â”€ character.types.ts         # ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é–¢é€£å‹å®šç¾©
```

---

## ğŸ“… å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚º

### Phase 1: åŸºæœ¬çš„ãªãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã¨ãƒãƒ£ãƒƒãƒˆUIï¼ˆå„ªå…ˆåº¦: Criticalï¼‰

**ç›®çš„**: æœ€å°é™ã®AIãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½ã‚’æŒã¤ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã‚’å®Ÿè£…

**ã‚¹ã‚³ãƒ¼ãƒ—:**
- ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã®é…ç½®
- é–‹é–‰ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
- åŸºæœ¬çš„ãªãƒãƒ£ãƒƒãƒˆUIï¼ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºã€å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ï¼‰
- Gemini APIã¨ã®åŸºæœ¬çš„ãªä¼šè©±æ©Ÿèƒ½

**ã‚¿ã‚¹ã‚¯:**
- [ ] ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè£…
  - ç”»é¢ä¸‹éƒ¨å›ºå®šé…ç½®
  - é–‹é–‰ãƒˆã‚°ãƒ«æ©Ÿèƒ½
  - ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¢ãƒƒãƒ—/ãƒ€ã‚¦ãƒ³ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
- [ ] ãƒãƒ£ãƒƒãƒˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®Ÿè£…
  - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒªã‚¹ãƒˆè¡¨ç¤º
  - å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ 
  - é€ä¿¡ãƒœã‚¿ãƒ³
- [ ] Gemini APIé€£æº
  - `chatWithAI` Server Action å®Ÿè£…
  - ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å¿œç­”å¯¾å¿œ
  - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

**æœŸé–“**: 3-5æ—¥
**ä¾å­˜é–¢ä¿‚**: ãªã—

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:**
```
components/ai-command-bar/
â”œâ”€â”€ index.tsx
â”œâ”€â”€ AICommandBar.tsx
â”œâ”€â”€ _components/
â”‚   â”œâ”€â”€ ChatInterface.tsx
â”‚   â”œâ”€â”€ ChatMessage.tsx
â”‚   â””â”€â”€ ChatInput.tsx
â”œâ”€â”€ _hooks/
â”‚   â””â”€â”€ useAIChat.ts
â””â”€â”€ _actions/
    â””â”€â”€ chatWithAI.ts
```

**è¨­è¨ˆè¦ä»¶:**
```typescript
// AICommandBar.tsx
interface AICommandBarProps {
  context: 'note-list' | 'page-detail';
  noteId?: string;
  pageId?: string;
}

// useAIChat.ts
interface UseAIChatOptions {
  context: string;
  initialMessages?: ChatMessage[];
}

interface ChatMessage {
  id: string;
  role: 'user' | 'assistant' | 'system';
  content: string;
  timestamp: Date;
}
```

---

### Phase 2: ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«å¿œã˜ãŸå¿œç­”ï¼ˆå„ªå…ˆåº¦: Highï¼‰

**ç›®çš„**: ãƒšãƒ¼ã‚¸ä¸€è¦§ã¨ãƒšãƒ¼ã‚¸è©³ç´°ã§ç•°ãªã‚‹ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’æä¾›

**ã‚¹ã‚³ãƒ¼ãƒ—:**
- ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®å–å¾—
- ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«å¿œã˜ãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ
- ã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å‹•çš„ç”Ÿæˆ

**ã‚¿ã‚¹ã‚¯:**
- [ ] ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®å®Ÿè£…
  - ç¾åœ¨ã®ãƒãƒ¼ãƒˆæƒ…å ±å–å¾—
  - ãƒšãƒ¼ã‚¸ä¸€è¦§æƒ…å ±å–å¾—
  - ãƒšãƒ¼ã‚¸è©³ç´°æƒ…å ±å–å¾—
- [ ] ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå¿œç­”ãƒ­ã‚¸ãƒƒã‚¯
  - ãƒšãƒ¼ã‚¸ä¸€è¦§æ™‚: ãƒãƒ¼ãƒˆå…¨ä½“ã®è¦ç´„ã€ãƒšãƒ¼ã‚¸æ¤œç´¢
  - ãƒšãƒ¼ã‚¸è©³ç´°æ™‚: ãƒšãƒ¼ã‚¸å†…å®¹ã®è§£æã€é–¢é€£ãƒšãƒ¼ã‚¸ææ¡ˆ
- [ ] ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®ç”Ÿæˆ
  - ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«åŸºã¥ã„ãŸå½¹å‰²è¨­å®š
  - åˆ©ç”¨å¯èƒ½ãªãƒ„ãƒ¼ãƒ«ã®èª¬æ˜

**æœŸé–“**: 2-3æ—¥
**ä¾å­˜é–¢ä¿‚**: Phase 1

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:**
```
components/ai-command-bar/
â”œâ”€â”€ _components/
â”‚   â””â”€â”€ ContextDisplay.tsx
â”œâ”€â”€ _hooks/
â”‚   â””â”€â”€ useContextProvider.ts
â””â”€â”€ _actions/
    â””â”€â”€ getContextData.ts
```

**è¨­è¨ˆè¦ä»¶:**
```typescript
// useContextProvider.ts
interface ContextData {
  type: 'note-list' | 'page-detail';
  note: {
    id: string;
    title: string;
    pageCount: number;
  };
  page?: {
    id: string;
    title: string;
    content: string;
  };
  recentPages?: PageSummary[];
}

// PageSummaryå‹å®šç¾©
interface PageSummary {
  id: string;
  title: string;
  excerpt?: string;
  updatedAt?: Date;
}

// ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä¾‹
const systemPrompts = {
  'note-list': `ã‚ãªãŸã¯å­¦ç¿’æ”¯æ´AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚
ç¾åœ¨ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€Œ{noteTitle}ã€ã¨ã„ã†ãƒãƒ¼ãƒˆã®ãƒšãƒ¼ã‚¸ä¸€è¦§ã‚’è¦‹ã¦ã„ã¾ã™ã€‚
ã“ã®ãƒãƒ¼ãƒˆã«ã¯{pageCount}å€‹ã®ãƒšãƒ¼ã‚¸ãŒã‚ã‚Šã¾ã™ã€‚
ä»¥ä¸‹ã®ã“ã¨ãŒã§ãã¾ã™ï¼š
- ãƒšãƒ¼ã‚¸ã®è¦ç´„
- ãƒšãƒ¼ã‚¸ã®æ¤œç´¢
- æ–°ã—ã„ãƒšãƒ¼ã‚¸ã®ä½œæˆææ¡ˆ`,
  
  'page-detail': `ã‚ãªãŸã¯å­¦ç¿’æ”¯æ´AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚
ç¾åœ¨ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€Œ{pageTitle}ã€ã¨ã„ã†ãƒšãƒ¼ã‚¸ã‚’ç·¨é›†ã—ã¦ã„ã¾ã™ã€‚
ä»¥ä¸‹ã®ã“ã¨ãŒã§ãã¾ã™ï¼š
- ãƒšãƒ¼ã‚¸å†…å®¹ã®è¦ç´„
- é–¢é€£ãƒšãƒ¼ã‚¸ã®ææ¡ˆ
- å†…å®¹ã®æ”¹å–„ææ¡ˆ`
};
```

---

### Phase 3: ãƒšãƒ¼ã‚¸è¦ç´„æ©Ÿèƒ½ï¼ˆå„ªå…ˆåº¦: Highï¼‰

**ç›®çš„**: ãƒšãƒ¼ã‚¸ä¸€è¦§ã‚„ãƒšãƒ¼ã‚¸è©³ç´°ã®è¦ç´„ã‚’ç”Ÿæˆ

**ã‚¹ã‚³ãƒ¼ãƒ—:**
- ãƒšãƒ¼ã‚¸ä¸€è¦§å…¨ä½“ã®è¦ç´„
- å€‹åˆ¥ãƒšãƒ¼ã‚¸ã®è¦ç´„
- è¦ç´„ã®è¡¨ç¤ºã¨ã‚³ãƒ”ãƒ¼æ©Ÿèƒ½

**ã‚¿ã‚¹ã‚¯:**
- [ ] è¦ç´„ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…
  - è¤‡æ•°ãƒšãƒ¼ã‚¸ã®çµ±åˆè¦ç´„
  - å˜ä¸€ãƒšãƒ¼ã‚¸ã®è©³ç´°è¦ç´„
  - æ§‹é€ åŒ–ã•ã‚ŒãŸè¦ç´„ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
- [ ] è¦ç´„è¡¨ç¤ºUI
  - æŠ˜ã‚ŠãŸãŸã¿å¯èƒ½ãªè¦ç´„ã‚«ãƒ¼ãƒ‰
  - ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³
  - å†ç”Ÿæˆãƒœã‚¿ãƒ³

**æœŸé–“**: 2-3æ—¥
**ä¾å­˜é–¢ä¿‚**: Phase 2

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:**
```
components/ai-command-bar/
â”œâ”€â”€ _components/
â”‚   â””â”€â”€ SummaryCard.tsx
â”œâ”€â”€ _actions/
â”‚   â””â”€â”€ summarizePages.ts
â””â”€â”€ _hooks/
    â””â”€â”€ useSummarize.ts
```

**è¨­è¨ˆè¦ä»¶:**
```typescript
// summarizePages.ts
interface SummarizeOptions {
  type: 'note-overview' | 'page-detail';
  noteId?: string;
  pageId?: string;
  maxLength?: number;
}

interface SummaryResult {
  summary: string;
  keyPoints: string[];
  tags: string[];
  relatedPages?: string[];
}
```

---

### Phase 4: æ„å‘³æ¤œç´¢æ©Ÿèƒ½ï¼ˆå„ªå…ˆåº¦: Highï¼‰

**ç›®çš„**: è‡ªç„¶è¨€èªã§ãƒšãƒ¼ã‚¸ã‚’æ¤œç´¢

**ã‚¹ã‚³ãƒ¼ãƒ—:**
- ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³çµ±åˆ
- æ¤œç´¢çµæœã®è¡¨ç¤º
- ãƒšãƒ¼ã‚¸ã¸ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³

**ã‚¿ã‚¹ã‚¯:**
- [ ] æ¤œç´¢ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®æ§‹ç¯‰
  - ãƒšãƒ¼ã‚¸å†…å®¹ã®ãƒ™ã‚¯ãƒˆãƒ«åŒ–
  - Supabase Vector æ‹¡å¼µã®åˆ©ç”¨
  - ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®å®šæœŸæ›´æ–°
- [ ] æ¤œç´¢ãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…
  - è‡ªç„¶è¨€èªã‚¯ã‚¨ãƒªã®å‡¦ç†
  - ãƒ™ã‚¯ãƒˆãƒ«é¡ä¼¼åº¦æ¤œç´¢
  - ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
- [ ] æ¤œç´¢çµæœUIã®å®Ÿè£…
  - æ¤œç´¢çµæœã‚«ãƒ¼ãƒ‰
  - ãƒšãƒ¼ã‚¸ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
  - ã‚¯ã‚¤ãƒƒã‚¯ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³

**æœŸé–“**: 4-5æ—¥
**ä¾å­˜é–¢ä¿‚**: Phase 2

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:**
```
components/ai-command-bar/
â”œâ”€â”€ _components/
â”‚   â”œâ”€â”€ SearchResults.tsx
â”‚   â””â”€â”€ SearchResultCard.tsx
â”œâ”€â”€ _actions/
â”‚   â””â”€â”€ semanticSearch.ts
â””â”€â”€ _hooks/
    â””â”€â”€ useSemanticSearch.ts
```

**æŠ€è¡“è¦ä»¶:**
```typescript
// semanticSearch.ts
interface SearchQuery {
  query: string;
  noteId: string;
  limit?: number;
  threshold?: number; // é¡ä¼¼åº¦ã®é–¾å€¤
}

interface SearchResult {
  pageId: string;
  title: string;
  excerpt: string;
  similarity: number;
  highlightedContent: string;
}

// Supabase Vector Extension
-- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
CREATE EXTENSION IF NOT EXISTS vector;

ALTER TABLE pages 
ADD COLUMN content_embedding vector(768); -- Gemini embedding dimension

CREATE INDEX ON pages USING ivfflat (content_embedding vector_cosine_ops);
```

---

### Phase 5: ãƒ„ãƒ¼ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®å®Ÿè£…ï¼ˆå„ªå…ˆåº¦: Mediumï¼‰

**ç›®çš„**: å„ç¨®ãƒ„ãƒ¼ãƒ«ã¸ã®ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹ã‚’æä¾›

**ã‚¹ã‚³ãƒ¼ãƒ—:**
- ãƒ„ãƒ¼ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼UI
- ãƒ„ãƒ¼ãƒ«ä¸€è¦§ã®è¡¨ç¤º
- ãƒ„ãƒ¼ãƒ«ã®æœ‰åŠ¹/ç„¡åŠ¹åˆ‡ã‚Šæ›¿ãˆ

**ã‚¿ã‚¹ã‚¯:**
- [ ] ãƒ„ãƒ¼ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
  - ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼
  - ãƒ„ãƒ¼ãƒ«ã‚¢ã‚¤ã‚³ãƒ³
  - ãƒ„ãƒ¼ãƒ«èª¬æ˜
- [ ] ãƒ„ãƒ¼ãƒ«ç®¡ç†ãƒ­ã‚¸ãƒƒã‚¯
  - ãƒ„ãƒ¼ãƒ«ç™»éŒ²ã‚·ã‚¹ãƒ†ãƒ 
  - æœ‰åŠ¹/ç„¡åŠ¹çŠ¶æ…‹ç®¡ç†
  - ãƒ„ãƒ¼ãƒ«å®Ÿè¡Œãƒ•ãƒƒã‚¯

**æœŸé–“**: 2-3æ—¥
**ä¾å­˜é–¢ä¿‚**: Phase 1

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:**
```
components/ai-command-bar/
â”œâ”€â”€ _components/
â”‚   â”œâ”€â”€ ToolMenu.tsx
â”‚   â””â”€â”€ ToolMenuItem.tsx
â”œâ”€â”€ _hooks/
â”‚   â””â”€â”€ useToolMenu.ts
â””â”€â”€ _types/
    â””â”€â”€ tool.types.ts
```

**è¨­è¨ˆè¦ä»¶:**
```typescript
// tool.types.ts
import { FileText, Search } from 'lucide-react';

interface Tool {
  id: string;
  name: string;
  description: string;
  icon: React.ComponentType;
  enabled: boolean;
  category: 'content' | 'navigation' | 'integration' | 'settings';
  action: () => void | Promise<void>;
}

// ãƒãƒ³ãƒ‰ãƒ©ãƒ¼é–¢æ•°ã®ã‚·ã‚°ãƒãƒãƒ£
const handleSummarize = async (): Promise<void> => {
  // ãƒšãƒ¼ã‚¸è¦ç´„ãƒ­ã‚¸ãƒƒã‚¯
  // summarizePages Server Action ã‚’å‘¼ã³å‡ºã—
};

const handleSearch = async (): Promise<void> => {
  // ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯æ¤œç´¢ãƒ­ã‚¸ãƒƒã‚¯
  // semanticSearch Server Action ã‚’å‘¼ã³å‡ºã—
};

// çµ„ã¿è¾¼ã¿ãƒ„ãƒ¼ãƒ«ä¾‹
const builtInTools: Tool[] = [
  {
    id: 'summarize',
    name: 'ãƒšãƒ¼ã‚¸è¦ç´„',
    description: 'ã“ã®ãƒãƒ¼ãƒˆã®ãƒšãƒ¼ã‚¸ã‚’è¦ç´„ã—ã¾ã™',
    icon: FileText,
    enabled: true,
    category: 'content',
    action: handleSummarize
  },
  {
    id: 'search',
    name: 'æ„å‘³æ¤œç´¢',
    description: 'è‡ªç„¶è¨€èªã§ãƒšãƒ¼ã‚¸ã‚’æ¤œç´¢',
    icon: Search,
    enabled: true,
    category: 'navigation',
    action: handleSearch
  },
  // ...
];
```

---

### Phase 6: ãƒšãƒ¼ã‚¸ä½œæˆæ”¯æ´æ©Ÿèƒ½ï¼ˆå„ªå…ˆåº¦: Mediumï¼‰

**ç›®çš„**: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‹ã‚‰æ–°ã—ã„ãƒšãƒ¼ã‚¸ã‚’ä½œæˆ

**ã‚¹ã‚³ãƒ¼ãƒ—:**
- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ™ãƒ¼ã‚¹ã®ãƒšãƒ¼ã‚¸ç”Ÿæˆ
- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ
- ç”Ÿæˆã•ã‚ŒãŸãƒšãƒ¼ã‚¸ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¨ç·¨é›†

**ã‚¿ã‚¹ã‚¯:**
- [ ] ãƒšãƒ¼ã‚¸ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯
  - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‹ã‚‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ
  - ã‚¿ã‚¤ãƒˆãƒ«è‡ªå‹•ç”Ÿæˆ
  - ã‚¿ã‚°è‡ªå‹•ä»˜ä¸
- [ ] ãƒšãƒ¼ã‚¸ä½œæˆUI
  - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ 
  - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ
  - ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ€ã‚¤ã‚¢ãƒ­ã‚°

**æœŸé–“**: 3-4æ—¥
**ä¾å­˜é–¢ä¿‚**: Phase 2

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:**
```
components/ai-command-bar/
â”œâ”€â”€ _components/
â”‚   â”œâ”€â”€ PageCreator.tsx
â”‚   â””â”€â”€ PagePreview.tsx
â”œâ”€â”€ _actions/
â”‚   â””â”€â”€ createPageFromPrompt.ts
â””â”€â”€ _hooks/
    â””â”€â”€ usePageCreator.ts
```

**è¨­è¨ˆè¦ä»¶:**
```typescript
// createPageFromPrompt.ts
interface PageCreationPrompt {
  prompt: string;
  template?: 'blank' | 'note' | 'article' | 'reference';
  noteId: string;
  additionalContext?: string;
}

interface GeneratedPage {
  title: string;
  content: string; // TipTap JSON
  tags: string[];
  suggestedLinks: string[]; // é–¢é€£ãƒšãƒ¼ã‚¸ID
}
```

---

### Phase 7: ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºï¼ˆå„ªå…ˆåº¦: Mediumï¼‰

**ç›®çš„**: AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®å£èª¿ã‚„æ€§æ ¼ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

**ã‚¹ã‚³ãƒ¼ãƒ—:**
- ã‚¢ãƒã‚¿ãƒ¼ç”»åƒã®é¸æŠ
- å£èª¿ãƒ»è©±ã—æ–¹ã®è¨­å®š
- æ€§æ ¼è¨­å®š

**ã‚¿ã‚¹ã‚¯:**
- [ ] ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼è¨­å®šUI
  - ã‚¢ãƒã‚¿ãƒ¼é¸æŠç”»é¢
  - å£èª¿ãƒ—ãƒªã‚»ãƒƒãƒˆé¸æŠ
  - ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå…¥åŠ›
- [ ] ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼è¨­å®šã®ä¿å­˜
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã®è¨­å®šä¿å­˜
  - è¨­å®šã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ/ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
- [ ] è¨­å®šã®é©ç”¨
  - ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¸ã®çµ±åˆ
  - å¿œç­”ã®ã‚¹ã‚¿ã‚¤ãƒ«å¤‰æ›

**æœŸé–“**: 3-4æ—¥
**ä¾å­˜é–¢ä¿‚**: Phase 1

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:**
```
components/ai-command-bar/
â”œâ”€â”€ _components/
â”‚   â”œâ”€â”€ CharacterSettings.tsx
â”‚   â”œâ”€â”€ AvatarSelector.tsx
â”‚   â””â”€â”€ ToneSelector.tsx
â”œâ”€â”€ _hooks/
â”‚   â””â”€â”€ useCharacterSettings.ts
â””â”€â”€ _types/
    â””â”€â”€ character.types.ts
```

**è¨­è¨ˆè¦ä»¶:**
```typescript
// character.types.ts
interface CharacterSettings {
  avatarUrl: string;
  name: string;
  tone: 'friendly' | 'formal' | 'casual' | 'humorous' | 'custom';
  personality: {
    traits: string[]; // ['helpful', 'enthusiastic', 'patient']
    customPrompt?: string;
  };
  greeting: string;
}

// ãƒ—ãƒªã‚»ãƒƒãƒˆä¾‹
const tonePresets = {
  friendly: {
    systemPrompt: 'ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ã§è¦ªã—ã¿ã‚„ã™ã„è©±ã—æ–¹ã‚’ã—ã¦ãã ã•ã„ã€‚çµµæ–‡å­—ã‚‚é©åº¦ã«ä½¿ã£ã¦ãã ã•ã„ã€‚',
    greeting: 'ã“ã‚“ã«ã¡ã¯ï¼ä»Šæ—¥ã‚‚ä¸€ç·’ã«å­¦ç¿’ã‚’é ‘å¼µã‚Šã¾ã—ã‚‡ã†ï¼âœ¨'
  },
  formal: {
    systemPrompt: 'ãƒ•ã‚©ãƒ¼ãƒãƒ«ã§ä¸å¯§ãªè©±ã—æ–¹ã‚’ã—ã¦ãã ã•ã„ã€‚æ•¬èªã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚',
    greeting: 'ãŠç–²ã‚Œæ§˜ã§ã™ã€‚æœ¬æ—¥ã®ã”å­¦ç¿’ã‚’ã‚µãƒãƒ¼ãƒˆã„ãŸã—ã¾ã™ã€‚'
  },
  // ...
};
```

---

### Phase 8: Model Context Protocol (MCP) é€£æºï¼ˆå„ªå…ˆåº¦: Lowï¼‰

**ç›®çš„**: å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã¨ã®é€£æºã‚’å®Ÿç¾

**ã‚¹ã‚³ãƒ¼ãƒ—:**
- MCP ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®å®Ÿè£…
- å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã®ç™»éŒ²ãƒ»ç®¡ç†
- ãƒ‡ãƒ¼ã‚¿ã®é€å—ä¿¡

**ã‚¿ã‚¹ã‚¯:**
- [ ] MCP ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®å®Ÿè£…
  - ãƒ—ãƒ­ãƒˆã‚³ãƒ«ä»•æ§˜ã®èª¿æŸ»
  - ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå®Ÿè£…
  - ã‚µãƒ¼ãƒãƒ¼å®Ÿè£…ï¼ˆãƒ—ãƒ­ã‚­ã‚·ï¼‰
- [ ] ã‚µãƒ¼ãƒ“ã‚¹é€£æºUI
  - ã‚µãƒ¼ãƒ“ã‚¹ä¸€è¦§è¡¨ç¤º
  - èªè¨¼ãƒ•ãƒ­ãƒ¼
  - ãƒ‡ãƒ¼ã‚¿ãƒãƒƒãƒ”ãƒ³ã‚°è¨­å®š
- [ ] é€£æºä¾‹ã®å®Ÿè£…
  - ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼é€£æºï¼ˆå­¦ç¿’äºˆå®šã®åŒæœŸï¼‰
  - ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸é€£æºï¼ˆæ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
  - ã‚¿ã‚¹ã‚¯ç®¡ç†ãƒ„ãƒ¼ãƒ«é€£æº

**æœŸé–“**: 5-7æ—¥
**ä¾å­˜é–¢ä¿‚**: Phase 5

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«:**
```
components/ai-command-bar/
â”œâ”€â”€ _components/
â”‚   â”œâ”€â”€ MCPServiceList.tsx
â”‚   â””â”€â”€ MCPServiceCard.tsx
â”œâ”€â”€ _hooks/
â”‚   â””â”€â”€ useMCPIntegration.ts
â”œâ”€â”€ _actions/
â”‚   â””â”€â”€ mcpProxy.ts
â””â”€â”€ lib/
    â””â”€â”€ mcp/
        â”œâ”€â”€ client.ts
        â”œâ”€â”€ protocol.ts
        â””â”€â”€ services/
            â”œâ”€â”€ calendar.ts
            â”œâ”€â”€ storage.ts
            â””â”€â”€ tasks.ts
```

**æŠ€è¡“è¦ä»¶:**
```typescript
// mcp/protocol.ts
interface MCPRequest {
  service: string;
  method: string;
  params: Record<string, unknown>;
  context?: {
    userId: string;
    noteId?: string;
    pageId?: string;
  };
}

interface MCPResponse {
  success: boolean;
  data?: unknown;
  error?: {
    code: string;
    message: string;
  };
}

// MCPã‚µãƒ¼ãƒ“ã‚¹ã®åŸºåº•ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
interface MCPService {
  name: string;
  version: string;
  initialize(): Promise<void>;
  execute(method: string, params: Record<string, unknown>): Promise<MCPResponse>;
}

// ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆå‹å®šç¾©
interface CalendarEvent {
  id?: string;
  title: string;
  description?: string;
  startTime: Date;
  endTime: Date;
  location?: string;
  attendees?: string[];
}

// mcp/services/calendar.ts
class CalendarService implements MCPService {
  name = 'calendar';
  version = '1.0.0';

  async initialize(): Promise<void> {
    // Google Calendar APIåˆæœŸåŒ–å‡¦ç†
  }

  async addEvent(event: CalendarEvent): Promise<MCPResponse> {
    try {
      // Google Calendar API é€£æº
      // const result = await googleCalendar.events.insert({ ... });
      return {
        success: true,
        data: event
      };
    } catch (error) {
      return {
        success: false,
        error: {
          code: 'ADD_EVENT_FAILED',
          message: error instanceof Error ? error.message : 'Failed to add event'
        }
      };
    }
  }
  
  async getUpcomingEvents(): Promise<MCPResponse> {
    try {
      // ã‚¤ãƒ™ãƒ³ãƒˆå–å¾—
      // const events = await googleCalendar.events.list({ ... });
      return {
        success: true,
        data: [] // events
      };
    } catch (error) {
      return {
        success: false,
        error: {
          code: 'GET_EVENTS_FAILED',
          message: error instanceof Error ? error.message : 'Failed to get events'
        }
      };
    }
  }

  async execute(method: string, params: Record<string, unknown>): Promise<MCPResponse> {
    switch (method) {
      case 'addEvent':
        return this.addEvent(params as CalendarEvent);
      case 'getUpcomingEvents':
        return this.getUpcomingEvents();
      default:
        return {
          success: false,
          error: {
            code: 'UNKNOWN_METHOD',
            message: `Method ${method} not found`
          }
        };
    }
  }
}
```

---

## ğŸ¨ UI/UX è¦ä»¶

### ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã®é…ç½®
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                 â”‚
â”‚              ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„                    â”‚
â”‚                                                 â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’¬ [ãƒãƒ£ãƒƒãƒˆå…¥åŠ›]                        [ğŸ”§] â”‚ â† ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ï¼ˆå›ºå®šï¼‰
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å±•é–‹æ™‚ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                 â”‚
â”‚              ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„                    â”‚
â”‚                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ                                 â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ ã“ã‚“ã«ã¡ã¯ï¼ä»Šæ—¥ã‚‚å­¦ç¿’ã‚’é ‘å¼µã‚Šã¾ã—ã‚‡ã†ï¼         â”‚
â”‚                                                 â”‚
â”‚ ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼                                     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ ã“ã®ãƒãƒ¼ãƒˆã‚’è¦ç´„ã—ã¦                            â”‚
â”‚                                                 â”‚
â”‚ ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ                                 â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ ã“ã®ãƒãƒ¼ãƒˆã«ã¯5ã¤ã®ãƒšãƒ¼ã‚¸ãŒã‚ã‚Šã¾ã™...          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ’¬ [ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›...]            [é€ä¿¡] [ğŸ”§] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
- é–‹é–‰: ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¢ãƒƒãƒ—/ãƒ€ã‚¦ãƒ³ï¼ˆ300msï¼‰
- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º: ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³ï¼ˆ200msï¼‰
- ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°: ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ

---

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶

### APIã‚­ãƒ¼ç®¡ç†
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã®APIã‚­ãƒ¼ä¿å­˜ï¼ˆæš—å·åŒ–ï¼‰
- Supabase Vault ã¾ãŸã¯ç’°å¢ƒå¤‰æ•°ã§ã®ç®¡ç†
- APIã‚­ãƒ¼æœªè¨­å®šæ™‚ã®UIè¡¨ç¤ºã¨è¨­å®šä¿ƒé€²

### ãƒ‡ãƒ¼ã‚¿ä¿è­·
- ãƒãƒ£ãƒƒãƒˆå±¥æ­´ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§ä¸€æ™‚ä¿å­˜
- æ©Ÿå¯†æƒ…å ±ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
- APIã‚­ãƒ¼ã¯å¹³æ–‡ã§ä¿å­˜ã—ãªã„ï¼ˆæš—å·åŒ–å¿…é ˆï¼‰

### Rate Limiting
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚ãŸã‚Šã® API ã‚³ãƒ¼ãƒ«åˆ¶é™
- é€£ç¶šãƒªã‚¯ã‚¨ã‚¹ãƒˆã®é˜²æ­¢
- ãƒ¦ãƒ¼ã‚¶ãƒ¼è‡ªèº«ã®APIã‚­ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã€å¤–éƒ¨ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã«æº–æ‹ 

### èªè¨¼ãƒ»èªå¯
- Server Actions ã§ã®èªè¨¼ãƒã‚§ãƒƒã‚¯
- RLS (Row Level Security) ã®é©ç”¨
- APIã‚­ãƒ¼è¨­å®šç”»é¢ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™

---

## ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶

### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¿ã‚¤ãƒ 
- ãƒãƒ£ãƒƒãƒˆé€ä¿¡ã‹ã‚‰ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°é–‹å§‹: < 1ç§’
- æ¤œç´¢çµæœè¡¨ç¤º: < 2ç§’
- ãƒšãƒ¼ã‚¸ç”Ÿæˆ: < 5ç§’

### ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º
- åˆæœŸãƒ­ãƒ¼ãƒ‰: < 50KB (gzipåœ§ç¸®å¾Œ)
- ã‚³ãƒ¼ãƒ‰ã‚¹ãƒ—ãƒªãƒƒãƒ†ã‚£ãƒ³ã‚°ã«ã‚ˆã‚‹é…å»¶ãƒ­ãƒ¼ãƒ‰

### ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡
- ãƒãƒ£ãƒƒãƒˆå±¥æ­´: æœ€å¤§100ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¾ã§
- å¤ã„å±¥æ­´ã®è‡ªå‹•å‰Šé™¤

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
- [ ] å„ Server Action ã®ãƒ†ã‚¹ãƒˆ
- [ ] ã‚«ã‚¹ã‚¿ãƒ  Hook ã®ãƒ†ã‚¹ãƒˆ
- [ ] ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ã®ãƒ†ã‚¹ãƒˆ

### çµ±åˆãƒ†ã‚¹ãƒˆ
- [ ] ãƒãƒ£ãƒƒãƒˆãƒ•ãƒ­ãƒ¼ã®ãƒ†ã‚¹ãƒˆ
- [ ] æ¤œç´¢æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ
- [ ] MCPé€£æºã®ãƒ†ã‚¹ãƒˆ

### E2Eãƒ†ã‚¹ãƒˆ
- [ ] ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã®é–‹é–‰
- [ ] ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€å—ä¿¡
- [ ] ãƒ„ãƒ¼ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®æ“ä½œ
- [ ] ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼è¨­å®šã®å¤‰æ›´

---

## ğŸ“ˆ æˆåŠŸæŒ‡æ¨™

### æ©Ÿèƒ½æŒ‡æ¨™
- ãƒãƒ£ãƒƒãƒˆé€ä¿¡æˆåŠŸç‡: > 99%
- æ¤œç´¢ç²¾åº¦: > 80%
- ãƒšãƒ¼ã‚¸ç”ŸæˆæˆåŠŸç‡: > 90%

### ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“æŒ‡æ¨™
- ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ä½¿ç”¨ç‡: > 30%
- 1ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ãŸã‚Šã®å¹³å‡ãƒãƒ£ãƒƒãƒˆæ•°: > 3
- ãƒ¦ãƒ¼ã‚¶ãƒ¼æº€è¶³åº¦: > 4.0 / 5.0

---

## ğŸ”— é–¢é€£æŠ€è¡“ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

### AIåŸºç›¤
- **Mastra** (AIã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯)
  - ãƒãƒ«ãƒLLMå¯¾å¿œï¼ˆGemini, OpenAI, Claude, etc.ï¼‰
  - APIã‚­ãƒ¼ç®¡ç†
  - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç®¡ç†
  - ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå®Ÿè£…

### AIãƒ¢ãƒ‡ãƒ«ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šã«ã‚ˆã‚Šé¸æŠå¯èƒ½ï¼‰
- Google Gemini API (Pro / Flash)
- OpenAI GPT-4 / GPT-3.5
- Anthropic Claude
- ãã®ä»– Mastra ãŒã‚µãƒãƒ¼ãƒˆã™ã‚‹LLM

### UI
- shadcn/ui ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- Framer Motion (ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³)
- React Hook Form (ãƒ•ã‚©ãƒ¼ãƒ ç®¡ç†)

### çŠ¶æ…‹ç®¡ç†
- Zustand ã¾ãŸã¯ Jotai (ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹)
- React Query (ã‚µãƒ¼ãƒãƒ¼ã‚¹ãƒ†ãƒ¼ãƒˆ)

### ãã®ä»–
- Supabase Vector Extension (æ¤œç´¢)
- TipTap (ãƒšãƒ¼ã‚¸ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼çµ±åˆ)

---

## ğŸ“ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»æ‰¿èª
2. Phase 1ï½8 ã”ã¨ã«å€‹åˆ¥ã® GitHub Issue ã‚’ä½œæˆ
3. Phase 1 ã‹ã‚‰é †æ¬¡å®Ÿè£…é–‹å§‹
4. å„ãƒ•ã‚§ãƒ¼ã‚ºå®Œäº†å¾Œã«ãƒ‡ãƒ¢ãƒ»ãƒ¬ãƒ“ãƒ¥ãƒ¼å®Ÿæ–½

---

## ğŸ“š å‚è€ƒè³‡æ–™

- Gemini API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: https://ai.google.dev/docs
- Model Context Protocol: https://modelcontextprotocol.io/
- Supabase Vector: https://supabase.com/docs/guides/ai/vector-columns
- TipTap: https://tiptap.dev/

---

**æœ€çµ‚æ›´æ–°**: 2025-10-30
**ä½œæˆè€…**: AI (Claude)
